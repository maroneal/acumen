<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_flppfiekybqy-7>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-7,lower-latin) ". "}.lst-kix_flppfiekybqy-6>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-6,decimal) ". "}ol.lst-kix_flppfiekybqy-2.start{counter-reset:lst-ctn-kix_flppfiekybqy-2 0}.lst-kix_flppfiekybqy-8>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-8,lower-roman) ". "}.lst-kix_flppfiekybqy-1>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-1,lower-latin) ". "}.lst-kix_flppfiekybqy-2>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-2,lower-roman) ". "}.lst-kix_flppfiekybqy-3>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-3,decimal) ". "}.lst-kix_flppfiekybqy-5>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-5,lower-roman) ". "}.lst-kix_flppfiekybqy-4>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-4,lower-latin) ". "}.lst-kix_xw6cxw4rkdug-1>li:before{content:"\0025cb  "}.lst-kix_xw6cxw4rkdug-2>li:before{content:"\0025a0  "}.lst-kix_xw6cxw4rkdug-0>li:before{content:"\0025cf  "}.lst-kix_xw6cxw4rkdug-4>li:before{content:"\0025cb  "}.lst-kix_flppfiekybqy-0>li{counter-increment:lst-ctn-kix_flppfiekybqy-0}.lst-kix_xw6cxw4rkdug-3>li:before{content:"\0025cf  "}.lst-kix_7i1cy1x9rp78-5>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-5}.lst-kix_xw6cxw4rkdug-8>li:before{content:"\0025a0  "}.lst-kix_xw6cxw4rkdug-5>li:before{content:"\0025a0  "}.lst-kix_xw6cxw4rkdug-6>li:before{content:"\0025cf  "}ol.lst-kix_flppfiekybqy-8.start{counter-reset:lst-ctn-kix_flppfiekybqy-8 0}.lst-kix_xw6cxw4rkdug-7>li:before{content:"\0025cb  "}.lst-kix_othj2m6n70ty-5>li:before{content:"\0025a0  "}.lst-kix_idcoidkmp5om-5>li:before{content:"\0025a0  "}ol.lst-kix_7i1cy1x9rp78-5.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-5 0}.lst-kix_idcoidkmp5om-4>li:before{content:"\0025cb  "}.lst-kix_idcoidkmp5om-6>li:before{content:"\0025cf  "}.lst-kix_7i1cy1x9rp78-3>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-3}.lst-kix_othj2m6n70ty-4>li:before{content:"\0025cb  "}.lst-kix_othj2m6n70ty-8>li:before{content:"\0025a0  "}ul.lst-kix_idcoidkmp5om-0{list-style-type:none}ul.lst-kix_idcoidkmp5om-1{list-style-type:none}.lst-kix_othj2m6n70ty-1>li:before{content:"\0025cb  "}.lst-kix_idcoidkmp5om-1>li:before{content:"\0025cb  "}ul.lst-kix_idcoidkmp5om-2{list-style-type:none}ul.lst-kix_idcoidkmp5om-3{list-style-type:none}.lst-kix_idcoidkmp5om-2>li:before{content:"\0025a0  "}ul.lst-kix_idcoidkmp5om-4{list-style-type:none}ul.lst-kix_idcoidkmp5om-5{list-style-type:none}.lst-kix_othj2m6n70ty-3>li:before{content:"\0025cf  "}.lst-kix_flppfiekybqy-2>li{counter-increment:lst-ctn-kix_flppfiekybqy-2}.lst-kix_idcoidkmp5om-3>li:before{content:"\0025cf  "}ul.lst-kix_idcoidkmp5om-6{list-style-type:none}ul.lst-kix_idcoidkmp5om-7{list-style-type:none}.lst-kix_othj2m6n70ty-2>li:before{content:"\0025a0  "}ul.lst-kix_idcoidkmp5om-8{list-style-type:none}ol.lst-kix_flppfiekybqy-1.start{counter-reset:lst-ctn-kix_flppfiekybqy-1 0}ol.lst-kix_flppfiekybqy-7.start{counter-reset:lst-ctn-kix_flppfiekybqy-7 0}.lst-kix_idcoidkmp5om-0>li:before{content:"\0025cf  "}.lst-kix_othj2m6n70ty-7>li:before{content:"\0025cb  "}.lst-kix_othj2m6n70ty-6>li:before{content:"\0025cf  "}ol.lst-kix_7i1cy1x9rp78-4.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-4 0}ul.lst-kix_ne0s71gaddcr-0{list-style-type:none}ul.lst-kix_ne0s71gaddcr-1{list-style-type:none}ul.lst-kix_ne0s71gaddcr-2{list-style-type:none}ul.lst-kix_ne0s71gaddcr-3{list-style-type:none}.lst-kix_flppfiekybqy-0>li:before{content:"" counter(lst-ctn-kix_flppfiekybqy-0,decimal) ". "}.lst-kix_othj2m6n70ty-0>li:before{content:"\0025cf  "}.lst-kix_idcoidkmp5om-8>li:before{content:"\0025a0  "}.lst-kix_idcoidkmp5om-7>li:before{content:"\0025cb  "}ol.lst-kix_7i1cy1x9rp78-0.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-0 0}.lst-kix_flppfiekybqy-5>li{counter-increment:lst-ctn-kix_flppfiekybqy-5}ol.lst-kix_7i1cy1x9rp78-3.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-3 0}.lst-kix_mpy024c4kmz8-1>li:before{content:"\0025cb  "}.lst-kix_7i1cy1x9rp78-0>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-0}.lst-kix_flppfiekybqy-3>li{counter-increment:lst-ctn-kix_flppfiekybqy-3}ul.lst-kix_mpy024c4kmz8-0{list-style-type:none}ul.lst-kix_mpy024c4kmz8-1{list-style-type:none}ul.lst-kix_mpy024c4kmz8-2{list-style-type:none}ul.lst-kix_mpy024c4kmz8-3{list-style-type:none}ul.lst-kix_mpy024c4kmz8-4{list-style-type:none}ul.lst-kix_mpy024c4kmz8-5{list-style-type:none}ul.lst-kix_mpy024c4kmz8-6{list-style-type:none}.lst-kix_7i1cy1x9rp78-2>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-2}ul.lst-kix_mpy024c4kmz8-7{list-style-type:none}ul.lst-kix_mpy024c4kmz8-8{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-2.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-2 0}.lst-kix_7i1cy1x9rp78-7>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-7}.lst-kix_7i1cy1x9rp78-1>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-1}.lst-kix_mpy024c4kmz8-3>li:before{content:"\0025cf  "}.lst-kix_mpy024c4kmz8-5>li:before{content:"\0025a0  "}.lst-kix_flppfiekybqy-4>li{counter-increment:lst-ctn-kix_flppfiekybqy-4}.lst-kix_mpy024c4kmz8-7>li:before{content:"\0025cb  "}ol.lst-kix_7i1cy1x9rp78-1.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-1 0}ol.lst-kix_flppfiekybqy-7{list-style-type:none}ol.lst-kix_flppfiekybqy-8{list-style-type:none}.lst-kix_7i1cy1x9rp78-6>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-6}ol.lst-kix_7i1cy1x9rp78-7.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-7 0}.lst-kix_7i1cy1x9rp78-0>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-0,decimal) ". "}ul.lst-kix_x3ennj6gfbyp-7{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-8{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-5{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-6{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-3{list-style-type:none}.lst-kix_gjtwtko0lwww-7>li:before{content:"-  "}ul.lst-kix_x3ennj6gfbyp-4{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-1{list-style-type:none}ul.lst-kix_x3ennj6gfbyp-2{list-style-type:none}.lst-kix_gjtwtko0lwww-8>li:before{content:"-  "}ul.lst-kix_x3ennj6gfbyp-0{list-style-type:none}ul.lst-kix_xw6cxw4rkdug-4{list-style-type:none}ul.lst-kix_xw6cxw4rkdug-3{list-style-type:none}ul.lst-kix_xw6cxw4rkdug-2{list-style-type:none}.lst-kix_7i1cy1x9rp78-6>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-6,decimal) ". "}ul.lst-kix_xw6cxw4rkdug-1{list-style-type:none}.lst-kix_7i1cy1x9rp78-8>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-8,lower-roman) ". "}ol.lst-kix_flppfiekybqy-5.start{counter-reset:lst-ctn-kix_flppfiekybqy-5 0}ul.lst-kix_xw6cxw4rkdug-0{list-style-type:none}.lst-kix_7i1cy1x9rp78-7>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-7,lower-latin) ". "}.lst-kix_7i1cy1x9rp78-3>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-3,decimal) ". "}.lst-kix_x3ennj6gfbyp-0>li:before{content:"\0025cf  "}.lst-kix_gjtwtko0lwww-6>li:before{content:"-  "}.lst-kix_7i1cy1x9rp78-2>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-2,lower-roman) ". "}.lst-kix_x3ennj6gfbyp-1>li:before{content:"\0025cb  "}ul.lst-kix_xw6cxw4rkdug-8{list-style-type:none}.lst-kix_7i1cy1x9rp78-1>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-1,lower-latin) ". "}.lst-kix_gjtwtko0lwww-4>li:before{content:"-  "}.lst-kix_gjtwtko0lwww-5>li:before{content:"-  "}ul.lst-kix_xw6cxw4rkdug-7{list-style-type:none}ul.lst-kix_xw6cxw4rkdug-6{list-style-type:none}ul.lst-kix_xw6cxw4rkdug-5{list-style-type:none}.lst-kix_gjtwtko0lwww-2>li:before{content:"-  "}.lst-kix_gjtwtko0lwww-3>li:before{content:"-  "}.lst-kix_7i1cy1x9rp78-8>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-8}.lst-kix_7i1cy1x9rp78-4>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-4,lower-latin) ". "}.lst-kix_7i1cy1x9rp78-5>li:before{content:"" counter(lst-ctn-kix_7i1cy1x9rp78-5,lower-roman) ". "}.lst-kix_gjtwtko0lwww-0>li:before{content:"-  "}.lst-kix_gjtwtko0lwww-1>li:before{content:"-  "}.lst-kix_flppfiekybqy-8>li{counter-increment:lst-ctn-kix_flppfiekybqy-8}.lst-kix_x3ennj6gfbyp-7>li:before{content:"\0025cb  "}.lst-kix_x3ennj6gfbyp-8>li:before{content:"\0025a0  "}.lst-kix_x3ennj6gfbyp-3>li:before{content:"\0025cf  "}.lst-kix_x3ennj6gfbyp-4>li:before{content:"\0025cb  "}ul.lst-kix_othj2m6n70ty-0{list-style-type:none}.lst-kix_x3ennj6gfbyp-2>li:before{content:"\0025a0  "}.lst-kix_x3ennj6gfbyp-5>li:before{content:"\0025a0  "}.lst-kix_x3ennj6gfbyp-6>li:before{content:"\0025cf  "}ul.lst-kix_othj2m6n70ty-5{list-style-type:none}ul.lst-kix_othj2m6n70ty-6{list-style-type:none}ul.lst-kix_othj2m6n70ty-7{list-style-type:none}ul.lst-kix_othj2m6n70ty-8{list-style-type:none}ul.lst-kix_othj2m6n70ty-1{list-style-type:none}ul.lst-kix_othj2m6n70ty-2{list-style-type:none}ul.lst-kix_othj2m6n70ty-3{list-style-type:none}ul.lst-kix_othj2m6n70ty-4{list-style-type:none}.lst-kix_ne0s71gaddcr-5>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-6>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-2>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-1>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-8>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-7>li:before{content:"+  "}.lst-kix_ne0s71gaddcr-0>li:before{content:"+  "}ol.lst-kix_flppfiekybqy-3{list-style-type:none}ol.lst-kix_flppfiekybqy-4{list-style-type:none}ol.lst-kix_flppfiekybqy-5{list-style-type:none}ol.lst-kix_flppfiekybqy-0.start{counter-reset:lst-ctn-kix_flppfiekybqy-0 0}ol.lst-kix_flppfiekybqy-6{list-style-type:none}.lst-kix_ne0s71gaddcr-3>li:before{content:"+  "}ol.lst-kix_flppfiekybqy-0{list-style-type:none}ol.lst-kix_flppfiekybqy-1{list-style-type:none}.lst-kix_ne0s71gaddcr-4>li:before{content:"+  "}ol.lst-kix_flppfiekybqy-2{list-style-type:none}ol.lst-kix_flppfiekybqy-6.start{counter-reset:lst-ctn-kix_flppfiekybqy-6 0}ul.lst-kix_ne0s71gaddcr-8{list-style-type:none}ul.lst-kix_ne0s71gaddcr-4{list-style-type:none}ul.lst-kix_ne0s71gaddcr-5{list-style-type:none}.lst-kix_mpy024c4kmz8-2>li:before{content:"\0025a0  "}ul.lst-kix_ne0s71gaddcr-6{list-style-type:none}ul.lst-kix_ne0s71gaddcr-7{list-style-type:none}.lst-kix_flppfiekybqy-6>li{counter-increment:lst-ctn-kix_flppfiekybqy-6}.lst-kix_mpy024c4kmz8-0>li:before{content:"\0025cf  "}ol.lst-kix_7i1cy1x9rp78-6.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-6 0}ul.lst-kix_gjtwtko0lwww-2{list-style-type:none}ul.lst-kix_gjtwtko0lwww-3{list-style-type:none}ul.lst-kix_gjtwtko0lwww-0{list-style-type:none}ul.lst-kix_gjtwtko0lwww-1{list-style-type:none}ul.lst-kix_gjtwtko0lwww-6{list-style-type:none}ul.lst-kix_gjtwtko0lwww-7{list-style-type:none}ul.lst-kix_gjtwtko0lwww-4{list-style-type:none}ul.lst-kix_gjtwtko0lwww-5{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-8.start{counter-reset:lst-ctn-kix_7i1cy1x9rp78-8 0}ol.lst-kix_7i1cy1x9rp78-0{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-1{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-2{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-3{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-4{list-style-type:none}ul.lst-kix_gjtwtko0lwww-8{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-5{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-6{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-7{list-style-type:none}ol.lst-kix_7i1cy1x9rp78-8{list-style-type:none}ol.lst-kix_flppfiekybqy-4.start{counter-reset:lst-ctn-kix_flppfiekybqy-4 0}.lst-kix_7i1cy1x9rp78-4>li{counter-increment:lst-ctn-kix_7i1cy1x9rp78-4}.lst-kix_mpy024c4kmz8-4>li:before{content:"\0025cb  "}.lst-kix_flppfiekybqy-7>li{counter-increment:lst-ctn-kix_flppfiekybqy-7}.lst-kix_mpy024c4kmz8-6>li:before{content:"\0025cf  "}ol.lst-kix_flppfiekybqy-3.start{counter-reset:lst-ctn-kix_flppfiekybqy-3 0}.lst-kix_mpy024c4kmz8-8>li:before{content:"\0025a0  "}.lst-kix_flppfiekybqy-1>li{counter-increment:lst-ctn-kix_flppfiekybqy-1}ol{margin:0;padding:0}table td,table th{padding:0}.c54{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:387.8pt;border-top-color:#ffffff;border-bottom-style:solid}.c49{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.2pt;border-top-color:#000000;border-bottom-style:solid}.c22{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:1pt;border-right-width:1pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:26.2pt;border-top-color:#ffffff;border-bottom-style:solid}.c9{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:1pt;border-right-width:1pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:152.2pt;border-top-color:#ffffff;border-bottom-style:solid}.c3{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.8pt;border-top-color:#000000;border-bottom-style:solid}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:64.5pt;border-top-color:#000000;border-bottom-style:solid}.c41{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.8pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60pt;border-top-color:#000000;border-bottom-style:solid}.c38{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.2pt;border-top-color:#000000;border-bottom-style:solid}.c29{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:1pt;border-right-width:1pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:289.5pt;border-top-color:#ffffff;border-bottom-style:solid}.c5{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:73.5pt;border-top-color:#000000;border-bottom-style:solid}.c46{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:80.2pt;border-top-color:#ffffff;border-bottom-style:solid}.c1{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c16{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c31{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:right}.c44{color:#000000;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c19{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left;height:11pt}.c30{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c35{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:right}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c43{border-spacing:0;border-collapse:collapse;margin-right:auto}.c23{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c7{padding-top:0pt;padding-bottom:0pt;text-align:justify}.c56{text-decoration:none;vertical-align:baseline;font-family:"Arial"}.c66{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c42{padding:0;margin:0}.c6{text-align:justify;height:11pt}.c37{font-size:12pt;color:#666666}.c45{padding-top:18pt;padding-bottom:4pt}.c59{font-size:14pt;color:#000000}.c63{padding-top:0pt;padding-bottom:0pt}.c58{background-color:#ffffff;color:#222222}.c62{orphans:2;widows:2}.c50{padding-top:14pt;padding-bottom:4pt}.c17{color:inherit;text-decoration:inherit}.c25{font-size:11pt;color:#000000}.c26{color:#1155cc;text-decoration:underline}.c33{color:#008f00}.c64{font-size:11pt}.c28{font-size:9pt}.c13{font-weight:700}.c55{color:#804040}.c40{color:#ff2600}.c21{color:#792bd2}.c27{padding-left:0pt}.c4{font-style:italic}.c57{color:#0000ff}.c48{height:12pt}.c39{line-height:1.15}.c0{font-weight:400}.c61{text-align:right}.c18{margin-left:36pt}.c53{text-align:center}.c11{text-indent:36pt}.c47{height:21pt}.c51{color:#ff00ff}.c60{vertical-align:super}.c15{text-align:justify}.c10{height:11pt}.c52{color:#6400c8}.c2{font-family:"Courier New"}.c34{color:#0433ff}.c24{height:0pt}.c14{color:#ff0000}.c32{color:#945351}.c65{height:27pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.15;font-style:italic;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:700;font-size:18pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;text-align:left}h3{padding-top:14pt;color:#666666;font-weight:700;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;text-align:left}h4{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;font-style:italic;text-align:left}h5{padding-top:11pt;color:#666666;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;text-align:left}h6{padding-top:10pt;color:#666666;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;font-style:italic;text-align:left}</style></head><body class="c66"><div><p class="c61"><span class="c4 c0 c28">Acumen 2016 Reference Manual, Walid Taha</span></p></div><h1 class="c15" id="h.lvvas3ogwzuj"><span class="c0">Acumen 2016 </span><span class="c0">Reference </span><span class="c0">Manual</span><span class="c0">&nbsp;(2016/12/11)</span></h1><p class=""><span class="c0">Author: &nbsp;Walid Taha</span></p><p class="c10"><span class="c0"></span></p><p class="c15"><span class="c0">Acumen is an experimental environment for model-based development of hybrid-systems. It is built around a small, textual modeling language. This document is a reference manual for the key features of the environment and the language when the &ldquo;Traditional&rdquo; option is selected from the semantics pull-down menu. </span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">The most up-to-date version of this manual is available at </span><span class="c26 c0"><a class="c17" href="https://www.google.com/url?q=http://bit.ly/Acumen-manual-2016&amp;sa=D&amp;ust=1481470164266000&amp;usg=AFQjCNE1HmcrQrn-08n_LHgbr-RGLb9NOQ">http://bit.ly/Acumen-manual-2016</a></span><span class="c0">. &nbsp;To report bugs with Acumen and/or issues with this document, please use the online form available at </span><span class="c26 c0"><a class="c17" href="https://www.google.com/url?q=http://www.acumen-language.org/p/report-bug.html&amp;sa=D&amp;ust=1481470164266000&amp;usg=AFQjCNFMygDNagF0Yb7Ge8lHQcOSXZBzow">http://www.acumen-language.org/p/report-bug.html</a></span><span class="c0">. To continue to be updated about the development of Acumen, please subscribe to the announcements mailing list at </span><span class="c26 c0"><a class="c17" href="https://www.google.com/url?q=http://bit.ly/Acumen-list&amp;sa=D&amp;ust=1481470164267000&amp;usg=AFQjCNExKnYFEq4kBc_cLtaFkO45motSqQ">http://bit.ly/Acumen-list</a></span><span class="c0">.</span></p><h2 class="c15" id="h.ohp79wgtfup9"><span class="c0">The Acumen Environment and Graphical User Interface</span></h2><p class="c15"><span class="c0">The standard mode for using the Acumen environment is through the GUI, which makes it possible to:</span></p><p class="c6"><span class="c0"></span></p><ul class="c42 lst-kix_othj2m6n70ty-0 start"><li class="c27 c18 c15"><span class="c0">Browse files in a given directory</span></li><li class="c27 c18 c15"><span class="c0">Load, edit, and save the text of a </span><span class="c0">model</span></li><li class="c27 c18 c15"><span class="c0">Run models</span></li><li class="c27 c18 c15"><span class="c0">View a Plot, a Table, or a 3D visualization of variables over time</span></li><li class="c27 c18 c15"><span class="c0">Read error messages reported to the system</span></li></ul><h2 class="c15" id="h.k9t5yxrf6173"><span class="c0">Basic Structure of </span><span class="c0">A</span><span class="c0">n Acumen </span><span class="c0">Model</span></h2><p class="c15"><span class="c0">A complete Acumen model consists of a series of model declarations. A complete model must contain a declaration for a model called </span><span class="c0 c2">Main</span><span class="c0">. </span><span class="c0">The declaration of the </span><span class="c0 c2">Main</span><span class="c0">&nbsp;model must have </span><span class="c0">exactly</span><span class="c0">&nbsp;one parameter. By convention, that parameter is called </span><span class="c0 c2">simulator</span><span class="c0">. </span><span class="c0">For example, a typical model would have this form:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp;model Ball (mass, size) = </span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;// Body of declaration of a model for a Ball</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp;</span></p><p class="c6"><span class="c0 c2"></span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp;model Main (simulator) = </span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;// Body of declaration of the model Main</span></p><p class="c6"><span class="c0 c2"></span></p><p class="c15"><span class="c0">The remainder of any line after the keyword </span><span class="c0 c2">//</span><span class="c0">&nbsp;is ignored and treated as a </span><span class="c0">comment</span><span class="c0">. Similarly, any text that starts with </span><span class="c0 c2">/*</span><span class="c0">&nbsp;and ends with </span><span class="c0 c2">*/</span><span class="c0">&nbsp;is also a comment.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Model declarations may appear in any order.</span></p><h2 class="c15" id="h.pbcgjvzgatcp"><span class="c0">Model Parameters and the &ldquo;Initially&rdquo; and &ldquo;Always&rdquo; Sections</span></h2><p class="c15"><span class="c0">Model declarations start with a name for the model and a list of formal parameters, followed by an equality sign (</span><span class="c0 c2">=</span><span class="c0">). After the name and parameters, the model declaration can contain an &ldquo;initially&rdquo; section. An example is as follows:<br></span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp;model Ball (mass, size) =</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;initially </span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;x_position = 0, </span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0 c2">y_position = 0</span><span class="c0 c2">&nbsp;</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;always</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;// Rest of the body of declaration of model Ball</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">&ldquo;Initially&rdquo; sections define the initial value for the variables introduced in this section. Parameter variables can be used in the definition of these initial values. Both parameter variables and model variables can be used in the rest of the body of the model </span><span class="c0">declaration</span><span class="c0">. Variables introduced in this section cannot be referenced in the section itself.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">&ldquo;Always&rdquo; sections contain a sequence of statements, usually consisting of assignments and/or conditional assignments. &nbsp;It is </span><span class="c13">very important</span><span class="c0">&nbsp;to realize that all such assignments are executed at the same time. &nbsp;Thus,</span><span class="c13">&nbsp;the order of assignments does not matter</span><span class="c0">. &nbsp;It is still possible to model the change of value (let&rsquo;s say a variable x) through the use of </span><span class="c13">derivatives</span><span class="c0">&nbsp;(the special variable x&rsquo;) and the use of </span><span class="c13">next-value</span><span class="c0">&nbsp;(the special variable x+). &nbsp;As we will see in the rest of this document, both of these variables can be assigned a value to cause the value of the original variable (in this case x) to change in different ways. &nbsp;Derivatives make it possible to change the value in a continuous manner, and next-value makes it possible to change the value in a sudden (discontinuous) manner.</span></p><h2 class="c15" id="h.na7l5epv1hsm"><span class="c0">Object Instantiation</span></h2><p class="c15"><span class="c0">Within a model declaration, it is possible to instantiate objects of another model. This can be done in either the &ldquo;initially&rdquo; section or in the rest of the body. When done in the &ldquo;initially&rdquo; section, it is called a &#39;static&#39; instance, and when in the body, a &#39;dynamic&#39; instance.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp;model Main (simulator) =</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;initially</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;b = </span><span class="c0 c2">create Ball (5, 14)</span><span class="c0 c2">&nbsp;// Static instance</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp;always</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;// First part of model definition</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;create Ball (10, 42) &nbsp; &nbsp;// Dynamic instance</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp;// Last part of model definition</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">New users will find it easier to work with static instances, since creating dynamic instances requires more care.</span></p><h2 class="c15" id="h.9gp8q0tf0mx1"><span class="c0">Expressions</span></h2><p class="c15"><span class="c0">Acumen expressions can be built out of variables, literals, </span><span class="c0">built-in functions,</span><span class="c0">&nbsp;vector generators, and summations.</span></p><h3 class="c15" id="h.4q5x0fe0etuo"><span class="c0">Variable Names</span></h3><p class=""><span class="c0">In Acumen, a variable name is a sequence of one or more characters starting with a letter or an underscore, and thereafter possibly including digits. Examples of </span><span class="c0">variable names</span><span class="c0">&nbsp;include </span><span class="c0 c2">a</span><span class="c0">, </span><span class="c0 c2">A</span><span class="c0">, </span><span class="c0 c2">red_robin</span><span class="c0">, and </span><span class="c0 c2">marco42</span><span class="c0">.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">As a convention, variable names used in the language in a special way usually start with an underscore (</span><span class="c0 c2">_</span><span class="c0">). An example is the special variable </span><span class="c0 c2">_3D</span><span class="c0">.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c13 c37">Variables</span></p><p class="c15"><span class="c0">A variable has a name followed by </span><span class="c0">zero</span><span class="c0">&nbsp;or more apostrophes (</span><span class="c0 c2">&#39;</span><span class="c0">). </span><span class="c0">Such apostrophes indicate that this variable is the </span><span class="c4 c0">time derivative</span><span class="c0">&nbsp;of a variable with the apostrophe removed. Examples of such variables include </span><span class="c0 c2">x&#39;</span><span class="c0">, </span><span class="c0 c2">x&#39;&#39;</span><span class="c0">, and </span><span class="c0 c2">x&#39;&#39;&#39;</span><span class="c0">.</span></p><h3 class="c15" id="h.bckzkqk17xzx"><span class="c0">Literals</span></h3><p class="c15"><span class="c0">Acumen supports literal values of different types, including booleans (</span><span class="c0 c2">true</span><span class="c0">&nbsp;and </span><span class="c0 c2">false</span><span class="c0">), integers (</span><span class="c0 c2">1</span><span class="c0">, </span><span class="c0 c2">2</span><span class="c0">, </span><span class="c0 c2">3</span><span class="c0">, etc.), decimal values (</span><span class="c0 c2">1.2</span><span class="c0">, </span><span class="c0 c2">1.3</span><span class="c0">, etc), floating point numbers (</span><span class="c0 c2">1.2E-17</span><span class="c0">, </span><span class="c0 c2">1.3E14</span><span class="c0">, etc.), strings (</span><span class="c0 c2">&quot;</span><span class="c0 c2">rabbit&quot;</span><span class="c0">, </span><span class="c0 c2">&quot;ringo</span><span class="c0 c2">&quot;</span><span class="c0">, etc.), and </span><span class="c0">vector</span><span class="c0">&nbsp;values (</span><span class="c0 c2">(1,2,3)</span><span class="c0">, </span><span class="c0 c2">(true, false, false)</span><span class="c0">, </span><span class="c0 c2">(&quot;a&quot;, &quot;ab&quot;, &quot;abc&quot;)</span><span class="c0">, etc.).</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">The </span><span class="c0">special constants</span><span class="c0">, </span><span class="c0 c2">pi</span><span class="c0">,</span><span class="c0">&nbsp;</span><span class="c0 c2">children</span><span class="c0">, and the names of basic colors (see below) are also literals.</span></p><h3 class="c15" id="h.yxomi1ssgqto"><span class="c0">Vector and Vector </span><span class="c0">Generators</span></h3><p class="c15"><span class="c0">Vectors can be constructed by writing things like </span><span class="c0 c2">(1,2,3)</span><span class="c0">&nbsp;and </span><span class="c0 c2">(1,1+1,2+1)</span><span class="c0">. &nbsp;In addition, they can be generated by specifying a </span><span class="c0">starting value, step size, and ending value. </span><span class="c0">This is written as </span><span class="c0 c2">start:step:end</span><span class="c0">. </span><span class="c0">For example, </span><span class="c0 c2">4:2:8</span><span class="c0">&nbsp;generates</span><span class="c0">&nbsp;</span><span class="c0 c2">(4,6,8)</span><span class="c0">. </span><span class="c0">We can omit the step if it is </span><span class="c0 c2">1</span><span class="c0">, and write </span><span class="c0 c2">start:end</span><span class="c0">. </span><span class="c0">For example, </span><span class="c0 c2">4:8</span><span class="c0">&nbsp;generates </span><span class="c0 c2">(4,5,6,7,8)</span><span class="c0">.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">We can look up elements in a vector by writing </span><span class="c0 c2">x(0)</span><span class="c0">&nbsp;to mean the first element of </span><span class="c0 c2">x</span><span class="c0">, writing </span><span class="c0 c2">x(1)</span><span class="c0">&nbsp;for the second element, and so on. &nbsp;The length function can be used to determine the length of lists:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c58 c0 c2">model</span><span class="c58 c0 c2">&nbsp;Main(simulator) =</span></p><p class="c15"><span class="c58 c0 c2">&nbsp; initially</span></p><p class="c15"><span class="c58 c0 c2">&nbsp; &nbsp; list = (1,2,3,4,5),</span></p><p class="c15"><span class="c0 c2 c58">&nbsp; &nbsp; size = 0</span></p><p class="c15"><span class="c58 c0 c2">&nbsp; always</span></p><p class="c15"><span class="c58 c0 c2">&nbsp; &nbsp; size = length(list)</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">More typically, </span><span class="c58 c0 c2">length(list)</span><span class="c58 c0">&nbsp;</span><span class="c0">would be used for iteration.</span></p><h3 class="c15" id="h.t642zbcc8sgm"><span class="c0">Matrices</span></h3><p class="c15"><span class="c0">A matrix is represented a vector of vectors. &nbsp;For example, the following is a two dimensional identity matrix: </span><span class="c0 c2">((1,0),(0,1))</span><span class="c0">. &nbsp; The supported operations are the arithmetic operators (</span><span class="c0 c2">+</span><span class="c0">,</span><span class="c0 c2">&nbsp;-</span><span class="c0">, </span><span class="c0 c2">*</span><span class="c0">); functions inverse (</span><span class="c0 c2">inv</span><span class="c0">), transpose (</span><span class="c0 c2">trans</span><span class="c0">) and determinant (</span><span class="c0 c2">det</span><span class="c0">). &nbsp;A sub-matrix can be extracted from an existing matrix using index slicing:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">model Main(simulator) =</span></p><p class="c15"><span class="c0 c2">&nbsp; initially </span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; I3 = ((1,0,0),(0,1,0),(0,0,1)),</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; I2 = ((0,0),(0,0))</span></p><p class="c15"><span class="c0 c2">&nbsp; always</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; I2 = I3(0:1,0:1) // First two rows and columns of I3</span></p><h3 class="c15" id="h.d9p50l9q62bc"><span class="c0">Summations</span></h3><p class="c15"><span class="c0">It is possible to iterate over collections to compute the summation of a series of values. The following example illustrates the syntax for this operation:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; sum i*i for i=1:10 if i%2 == 0</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">As this example illustrates, this construct allows us to indicate the iteration range</span><span class="c0">&nbsp;and to filter the values being adding </span><span class="c0">based on a </span><span class="c0">condition</span><span class="c0">. </span><span class="c0">The</span><span class="c0 c2">&nbsp;if </span><span class="c0">clause can be omitted when the intention is that the condition is always true.</span></p><h2 class="c15" id="h.xl4zedpfezw"><span class="c0">Statements</span></h2><p class="c15"><span class="c0">There are five types of statements in Acumen, namely: continuous assignments, conditional (or guarded) statements, discrete assignments, iteration, and sequences of statements.</span></p><h3 class="c15" id="h.wwdaq2w3arm8"><span class="c0">Continuous Assignments</span></h3><p class="c15"><span class="c0">A continuous assignment has a left-hand side that must be a variable or the derivative of a variable, and a right-hand side that can be any expression. Examples include the following:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; a &nbsp; = f/m</span></p><p class="c15"><span class="c0 c2">&nbsp; x&#39;&#39; = -9.8</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Any such statements in the same object are evaluated simultaneously after all discrete assignments have been performed and are not causing any further change to the state of the program. Continuous assignments where the left-hand side is not a derivative are taken into account when assignments (both continuous and discrete) are evaluated. Thus:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; x&#39;&#39; = -g, g = 9.8</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">is equivalent to:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; x&#39;&#39; = -9.8</span></p><h3 class="c15" id="h.id36az927ph2"><span class="c0">If-Statements</span></h3><p class="c7"><span class="c0">If-statements are the first type of conditional statement. They allow us to express that </span><span class="c0">&nbsp;different statements take effect under different conditions</span><span class="c0">. The following code illustrates how if-statements are written:</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0 c2">&nbsp; if (x&gt;0) then</span></p><p class="c7"><span class="c0 c2">&nbsp; &nbsp; </span><span class="c0 c2">x&#39;&#39; = -9.8</span></p><p class="c7"><span class="c0 c2">&nbsp; else</span></p><p class="c7"><span class="c0 c2">&nbsp; &nbsp; x&#39; = 0</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">In this example, as long as </span><span class="c0 c2">x</span><span class="c0">&nbsp;is greater than zero then the first continuous assignment is in effect. The result will be that the </span><span class="c0 c2">x&#39;</span><span class="c0">&nbsp;is decreasing, and when it becomes negative, </span><span class="c0 c2">x</span><span class="c0">&nbsp;will also decrease until the condition is no longer true. Once that happens, the second equation will take effect, which will cause </span><span class="c0 c2">x</span><span class="c0">&nbsp;to remain constant. </span><span class="c0">By surrounding multiple comma-separated statements in parentheses, they can be included in the </span><span class="c0 c2">else</span><span class="c0">&nbsp;branch of an </span><span class="c0 c2">if</span><span class="c0">&nbsp;statement :</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; if (x&gt;0) then</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; </span><span class="c0 c2">x&#39;&#39; = -9.8</span></p><p class="c15"><span class="c0 c2">&nbsp; else</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; (x&#39; = 0</span><span class="c0 c2">, ...)</span></p><h3 class="c15" id="h.hzxlxh3vpkty"><span class="c0">Match-Statements</span></h3><p class="c15"><span class="c0">A match-statement is the second type of conditional statement. It can be viewed as a generalization of an if-statement. It allows us to enable different statements under multiple different cases depending on the value of a </span><span class="c0">particular expression</span><span class="c0">&nbsp;that we are matching on. The following example illustrates this idea:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; match </span><span class="c0 c2">myCommand</span><span class="c0 c2">&nbsp;with</span></p><p class="c15"><span class="c0 c2">&nbsp; [ </span><span class="c0 c2">&quot;Fall&quot;</span><span class="c0 c2">&nbsp;-&gt;</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; x&#39;&#39; = -9.8</span></p><p class="c15"><span class="c0 c2">&nbsp; | &quot;Freeze&quot; -&gt;</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; x&#39; = 0</span></p><p class="c15"><span class="c0 c2">&nbsp; | &quot;Reset&quot; -&gt;</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; x = 0</span></p><p class="c15"><span class="c0 c2">&nbsp; ]</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Only one case can be enabled at any one point in time</span><span class="c0">. &nbsp;Matching must be done against an explicit, constant value (like </span><span class="c0 c2">&quot;Fall&quot;</span><span class="c0">&nbsp;and </span><span class="c0 c2">&quot;Freeze&quot;</span><span class="c0">)</span><span class="c0">. &nbsp;If multiple clauses match the same value, only the first one will be enabled.</span></p><h3 class="c15" id="h.anxdtzvvz0n8"><span class="c0">Discrete Assignments</span></h3><p class="c7"><span class="c0">A discrete assignment has a left hand side that must be a variable or the derivative of a variable, and a right hand side that can be any expression. Examples include the following statements:</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0 c2">&nbsp; t+ &nbsp; = </span><span class="c0 c2">0</span></p><p class="c7"><span class="c0 c2">&nbsp; t&#39;+ &nbsp;= 1</span></p><p class="c7"><span class="c0 c2">&nbsp; t&#39;&#39;+ = 0</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">Discrete assignments represent an instantaneous change in values. They are used in the private section of models, where the initial values for variables are specified. They can also be used to indicate that there is a discontinuous change (hence the name &ldquo;discrete&rdquo;) to a particular variable during a simulation.</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">For a simulation to behave properly, any discrete assignment in the body of a model definition (that is, outside the &ldquo;initially&rdquo; section) should generally occur inside a conditional statement (such as an </span><span class="c0 c2">if</span><span class="c0">-statement or a </span><span class="c0 c2">match</span><span class="c0">&nbsp;statement)</span><span class="c0">. The following example illustrates an acceptable use of discrete assignments:</span></p><p class="c15"><span class="c0 c2">&nbsp; </span></p><p class="c15"><span class="c0 c2">&nbsp; if (x&gt;=0) || (x&#39;&gt;0) then</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; x&#39;&#39; = -9.8</span></p><p class="c15"><span class="c0 c2">&nbsp; else</span></p><p class="c15"><span class="c0 c2">&nbsp; &nbsp; x&#39;+ = -0.5 * x&#39;</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">Here, the value of </span><span class="c0 c2">x&#39;</span><span class="c0">&nbsp;is reset to change direction (the negative sign) and reduce magnitude (multiplication by 0.5) to model a &ldquo;bounce&rdquo; when a &ldquo;ball&rdquo; of height </span><span class="c0 c2">x</span><span class="c0">&nbsp;hits the ground at level 0. </span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">Note that as soon as the assignment happens, the condition is falsified, so the discrete assignment is enabled for exactly one time instant. Furthermore, because the condition requires that </span><span class="c0 c2">x&#39;</span><span class="c0">&nbsp;is negative, the new </span><span class="c0 c2">x&#39;</span><span class="c0">&nbsp;must be positive; therefore, we can also expect that the condition on the first line will become true, and the &ldquo;ball&rdquo; will again be subject to a downward acceleration (which can be seen as modeling the effect of gravity). </span></p><h3 class="c15" id="h.hvfloiid9m2"><span class="c0">For-Statement</span></h3><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">For-statements allow us to perform iteration. Examples include:</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0 c2">&nbsp; foreach i in 1:10 do x=2*y </span></p><p class="c7 c10"><span class="c0 c2"></span></p><p class="c7"><span class="c0">and</span></p><p class="c7 c10"><span class="c0 c2"></span></p><p class="c7"><span class="c0 c2">&nbsp; foreach </span><span class="c0 c2">c in children do c.</span><span class="c0 c2">x + = 15</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">The second type of iteration illustrates how an object can assign a value to the </span><span class="c0 c2">x</span><span class="c0">&nbsp;field </span><span class="c0">of</span><span class="c0">&nbsp;all its children.</span></p><h3 class="c15" id="h.6hatlwjqs3rf"><span class="c0">Sequences of Statements</span></h3><p class="c15"><span class="c0">Multiple simultaneous statements can be expressed in a collection by simply placing a comma (</span><span class="c0 c2">,</span><span class="c0">) between them. For example:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0 c2">&nbsp; x&#39;&#39; = -9.8,</span></p><p class="c15"><span class="c0 c2">&nbsp; y&#39;&#39; = 0</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Order is irrelevant in such statements, as they are always evaluated simultaneously.</span></p><h2 class="c15" id="h.mqisveajhk5r"><span class="c0">How a Model is Simulated (</span><span class="c0">Order of Evaluation</span><span class="c0">)</span></h2><p class="c15"><span class="c0">Initially, the simulation of an Acumen model has only one object, </span><span class="c0 c2">Main</span><span class="c0">. As objects are created dynamically, a tree of objects is formed. </span><span class="c0 c2">Main</span><span class="c0">&nbsp;is always the root of this tree. The children of an object are the objects created by </span><span class="c0">that object</span><span class="c0">.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Every simulation sub-step involves a traversal of the entire tree starting from </span><span class="c0 c2">Main</span><span class="c0">. Two kinds of sub-steps are performed, according to the diagram below. During a </span><span class="c4 c0">discrete step</span><span class="c0">, discrete assignments and structural actions (</span><span class="c0 c2">create</span><span class="c0">, </span><span class="c0 c2">terminate</span><span class="c0">&nbsp;and </span><span class="c0 c2">move</span><span class="c0">) are processed: the tree is traversed to perform active structural actions and collect active discrete assignments. Once collected, the discrete assignments are performed in parallel. So, for example, </span><span class="c0 c2">x+ = y, y+ = x</span><span class="c0">&nbsp;is a swap operation. For every object, first the structural actions of each parent are executed, and then the structural actions of all children are executed. If there are active actions that also change the state, we keep making discrete steps in this fashion. Otherwise, we make a continuous step. During a </span><span class="c4 c0">continuous step</span><span class="c0">, all continuous assignments and integrations are performed.</span></p><p class="c6"><span class="c0"></span></p><p class="c53"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 282.02px; height: 326.51px;"><img alt="" src="images/image09.png" style="width: 282.02px; height: 326.51px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c15" id="h.2ufcnognq5wy"><span class="c0">Visualization Using the _3D Panel</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 226.50px; height: 198.67px;"><img alt="" src="images/image11.png" style="width: 226.50px; height: 198.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2><p class="c15"><span class="c0">Acumen has a </span><span class="c0">_3D panel</span><span class="c0">&nbsp;that can be used to create static or dynamic visualizations in 3D. Following we introduce the constructs needed to use this functionality.</span></p><h3 class="c15" id="h.rl35owv3na0w"><span class="c0">Colors</span></h3><p class="c15"><span class="c0">All 3D objects must have a color. Colors are described by a three-dimensional intensity representing the red-green-blue (RGB) dimensions of the colors. The color is represented by a vector of the form</span><span class="c0">&nbsp;</span><span class="c0 c2">(r,g,b)</span><span class="c0">. Each of the values of </span><span class="c0 c2">r</span><span class="c0">, </span><span class="c0 c2">g</span><span class="c0">, and </span><span class="c0 c2">b</span><span class="c0">&nbsp;is called an intensity, and is a real number be between 0 and 1. </span><span class="c0">The following display illustrates some basic examples of RGB combinations:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">It is important to note here that the vectors indicate intensities, and NOT coordinates. The fact that both are represented as a triple (that is, the vector is size three) is coincidental.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">To make it easier to put together _3D statements, Acumen also defines constants for the intensities of the basic </span><span class="c0">color</span><span class="c0">s: &nbsp;</span><span class="c0 c2">red</span><span class="c0">, </span><span class="c0 c2">green,</span><span class="c0">&nbsp;</span><span class="c0 c2">blue,</span><span class="c0">&nbsp;</span><span class="c0 c2">white,</span><span class="c0">&nbsp;</span><span class="c0 c2">black,</span><span class="c0">&nbsp;</span><span class="c0 c2">yellow,</span><span class="c0">&nbsp;</span><span class="c0 c2">cyan </span><span class="c0">and </span><span class="c0 c2">magenta.</span></p><h3 class="c15" id="h.jy8w5qk8g0j8"><span class="c0">Transparency</span></h3><p class=""><span class="c0">A 3D object has a </span><span class="c0 c2">transparency</span><span class="c0">&nbsp;parameter, which takes a floating point number ranging from </span><span class="c0">0 to 1.</span><span class="c0">&nbsp;With value 0 representing opaque and 1 for the maximal transparency. The following model depicts a transparent box:</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">model Main(simulator) = </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 220.00px; height: 165.00px;"><img alt="" src="images/image06.jpg" style="width: 220.00px; height: 165.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class=""><span class="c0 c2">initially</span></p><p class=""><span class="c0 c2">&nbsp; _3D = (), _3DView = ()</span></p><p class=""><span class="c0 c2">always</span></p><p class=""><span class="c0 c2">&nbsp; _3D = (Box &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;center=(0,0,0) &nbsp; &nbsp; &nbsp;</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;size=(0.2,1,3) &nbsp; &nbsp; &nbsp;</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;color=red &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rotation=(0,0,0)</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;transparency = 1),</span></p><p class="c10"><span class="c0 c2"></span></p><p class=""><span class="c0 c2">&nbsp; _3DView = ((0,-10,0), (0, 0, 0))</span></p><h3 class="c15" id="h.j1p8q3advxsy"><span class="c0">Coordinate System</span></h3><p class="c15"><span class="c0">Acumen&#39;s </span><span class="c0">_3D panel display</span><span class="c0">&nbsp;</span><span class="c0">use</span><span class="c0">s a right-hand coordinate system, </span><span class="c0">which is illustrated</span><span class="c0">&nbsp;by the above image from the Wikipedia article on the </span><span class="c26 c0"><a class="c17" href="https://www.google.com/url?q=http://en.wikipedia.org/wiki/Cartesian_coordinate_system&amp;sa=D&amp;ust=1481470164397000&amp;usg=AFQjCNGpsITrQRlpHl7GNp8F4qmUgBHa0A">Cartesian Coordinate System</a></span><span class="c0">:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 237.14px; height: 207.50px;"><img alt="" src="images/image12.png" style="width: 237.14px; height: 207.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15"><span class="c0">The figure on the right illustrates the coordinate</span><span class="c0">&nbsp;</span><span class="c0">system and </span><span class="c0">some ex</span><span class="c0">amples of points in that system.</span><span class="c0">&nbsp;Each point is marked by a small cube, and next to it is text indicating the </span><span class="c0">(x,y,z) coordinate of that point:</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Note that, unlike in the case of the color illustration above, the triples here are coordinates in three dimensional space, and not color intensities.</span></p><p class="c6"><span class="c0"></span></p><p class="c6"><span class="c0"></span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 220.00px; height: 214.00px;"><img alt="Untitled.png" src="images/image13.png" style="width: 220.00px; height: 214.28px; margin-left: 0.00px; margin-top: -0.14px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Rotations are specified as a triple of angl</span><span class="c0">es (in radians) abo</span><span class="c0">ut the center of the object, and are applied in the order described in the above illustration.</span></p><h3 class="c15 c48" id="h.sfzsmcbhvg"><span class="c0"></span></h3><h3 class="c48 c15" id="h.rs0rn6u1fvzt"><span class="c0"></span></h3><h3 class="c48 c15" id="h.pbbr3sndmxkp"><span class="c0"></span></h3><h3 class="c15" id="h.7mx1aw5eunew"><span class="c0">Text</span></h3><p class="c7"><span class="c0">Text can be displayed in the _3D panel using a command such as the following:</span></p><p class="c7 c10"><span class="c0 c2"></span></p><p class=""><span class="c0">&nbsp;</span><span class="c0 c2">_3D =</span></p><p class=""><span class="c0 c2">&nbsp;(Text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Type of _3D object</span></p><p class=""><span class="c0 c2">&nbsp; center=(-2.2,0,0) &nbsp; &nbsp;// Starting point in (x,y,z) form</span></p><p class=""><span class="c0 c2">&nbsp; size=0.75 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Font size</span></p><p class=""><span class="c0 c2">&nbsp; color=(255,255,0) &nbsp; &nbsp;// Color in red-green-blue (RGB) intensity</span></p><p class=""><span class="c0 c2">&nbsp; rotation=(pi/2,0,0) &nbsp;// Orientation (pi/2 around x-axis)</span></p><p class=""><span class="c0 c2">&nbsp; content=&quot;Hello!&quot;) &nbsp; &nbsp;// Text you wish to display</span></p><p class="c7 c10"><span class="c0 c2"></span></p><p class="c7"><span class="c0">Note that the starting point is where the text starts (the leftmost point of the displayed text), and not the center of where the text is displayed.</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">Orientations</span><span class="c0">&nbsp;are angles that indicate how the text should be rotated around the x-, y-, and z-axes, respectively. Rotations are measured in radians, and specify an anti-clockwise rotation. Orientation rotations can be interpreted as rotations around the global frame of reference with the origin relocated to the reference point of the object that we are rotating; they can also be interpreted as having the rotation around the x-axis done first, then the y-axis, then the z-axis.</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0">Here are the characters supported by the Text primitive:</span></p><p class="c7 c10"><span class="c0"></span></p><ul class="c42 lst-kix_idcoidkmp5om-0 start"><li class="c7 c27 c18"><span class="c0">26 English characters, both uppercase and lowercase (a~z, A~Z)</span></li><li class="c7 c27 c18"><span class="c0">10 digit characters (0~9)</span></li><li class="c7 c18 c27"><span class="c0">28 symbol characters (! @ # $ % ^ &amp; ( ) - + = | { } [ ] : ; &ldquo; &lsquo; &lt; &gt; , . ? / *) and space &ldquo; &ldquo;</span></li></ul><h3 class="c15" id="h.9fjh9tkt3cd8"><span class="c0">Box</span></h3><p class="c7 c39"><span class="c0">A box can be displayed in the _3D panel using a command such as follows:</span></p><p class="c7 c10"><span class="c0"></span></p><p class="c7"><span class="c0 c2">&nbsp;_3D = (Box &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Type of _3D object</span></p><p class="c7"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; size = (0.2,1,3)) &nbsp; // Size in (x,y,z) form</span></p><p class="c7 c10"><span class="c0 c2"></span></p><p class="c7"><span class="c0">Note that, unlike text, boxes and the other geometric objects use the point indicated in the _3D statement to represent </span><span class="c0">its </span><span class="c0">center point rather than a corner point</span><span class="c0">.</span></p><h3 class="c15" id="h.7cnmfk1umzjx"><span class="c0">Cylinders</span></h3><h3 class="c7" id="h.fk761lak5lzu"><span class="c25 c0">A cylinder can be displayed as follows:</span></h3><h3 class="c7 c48" id="h.fk761lak5lzu-1"><span class="c25 c0"></span></h3><h3 class="c7" id="h.fk761lak5lzu-2"><span class="c25 c0 c2">&nbsp;_3D = (Cylinder</span></h3><h3 class="c7" id="h.fk761lak5lzu-3"><span class="c25 c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c25 c0 c2">&nbsp;</span><span class="c25 c0 c2">radius = 0.1 &nbsp; &nbsp; &nbsp; &nbsp;// Radius</span></h3><h3 class="c7" id="h.fk761lak5lzu-4"><span class="c25 c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c25 c0 c2">&nbsp;</span><span class="c25 c0 c2">length = 4) &nbsp; &nbsp; &nbsp; &nbsp; // Length</span></h3><h3 class="c7 c48" id="h.9f5n6db916w5"><span class="c25 c0 c2"></span></h3><p class="c7"><span class="c0">Unlike a box, a cylinder only has two parameters to specify its </span><span class="c0">dimensions</span><span class="c0">, namely, </span><span class="c0">radius and length</span><span class="c0">. &nbsp;The initial orientation is for its length to be along the y-axis.</span></p><h3 class="c15" id="h.xgifoquo1rgt"><span class="c0">Cone</span></h3><h3 class="c7" id="h.cu3jahe295kl"><span class="c25 c0">A cone can be drawn as follows:</span></h3><h3 class="c7 c48" id="h.cu3jahe295kl-5"><span class="c25 c0"></span></h3><h3 class="c7" id="h.cu3jahe295kl-6"><span class="c25 c0 c2">&nbsp;_3D = (Cone &nbsp; </span></h3><h3 class="c7" id="h.cu3jahe295kl-7"><span class="c25 c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;radius = 0.4 &nbsp; &nbsp; &nbsp; &nbsp;// Radius</span></h3><h3 class="c7" id="h.cu3jahe295kl-8"><span class="c25 c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;length = 1) &nbsp; &nbsp; &nbsp; &nbsp; // Length</span></h3><h3 class="c7 c48" id="h.cu3jahe295kl-9"><span class="c25 c0 c2"></span></h3><h3 class="c7" id="h.tt7umljx9xog"><span class="c25 c0">Note the similarity between the parameters for the cone and cylinder. The parameter types are the same, but they have a different meaning</span><span class="c25 c0">&nbsp;</span><span class="c25 c0">depending on the shape. &nbsp;</span><span class="c25 c0">The length is along the y-axis, and the pointy side is directed with the increase in the y-axis.</span></h3><h3 class="c50 c15" id="h.63812qxd9csc"><span class="c0">Spheres</span></h3><p class="c15"><span class="c0">A sphere can be drawn as follows:</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">&nbsp;_3D = (Sphere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Type of _3D object</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;size = 0.55) &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Size</span></p><p class="c10"><span class="c0 c2"></span></p><p class=""><span class="c0">Orientation on a sphere will not have a significant impact on the image.</span></p><h3 class="c15" id="h.kmu4t8n48oz9"><span class="c0">Surface</span></h3><h3 class="c7" id="h.cu3jahe295kl-10"><span class="c25 c0">A parametric surface, which is defined by a parametric equation with two parameters can be drawn using the </span><span class="c25 c0 c2">Surface</span><span class="c25 c0">&nbsp;3D object. &nbsp;A torus with outer radius </span><span class="c25 c0 c2">2</span><span class="c25 c0">&nbsp;and inner radius </span><span class="c25 c0 c2">0.5</span><span class="c25 c0">&nbsp;can be drawn as follows:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 235.43px; height: 153.50px;"><img alt="" src="images/image02.png" style="width: 235.43px; height: 153.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h3><h3 class="c7 c48" id="h.aq51zw9pof99"><span class="c25 c0"></span></h3><h3 class="c7" id="h.kjo8o1waocq7"><span class="c25 c0 c2">_3D = (Surface (phi, psi) -&gt;</span></h3><h3 class="c7" id="h.urhe79a4nbla"><span class="c25 c0 c2">&nbsp;((2 + 0.5*cos(psi))*cos(phi),</span></h3><h3 class="c7" id="h.l4jdo3wdkcw3"><span class="c25 c0 c2">&nbsp; (2 + 0.5*cos(psi))*sin(phi), &nbsp; &nbsp;</span></h3><h3 class="c7" id="h.cpvvu0cjhbh5"><span class="c25 c0 c2">&nbsp; &nbsp;0.5*sin(psi)) </span></h3><h3 class="c7" id="h.z3im677hq3h"><span class="c25 c0 c2">&nbsp; foreach phi = [0 .. 7] psi = [0 .. 7]</span></h3><p class=""><span class="c0">&nbsp; &nbsp;</span><span class="c0 c2">&nbsp;resolution = 0.2</span></p><h3 class="c7" id="h.k6nrvqjq1cob"><span class="c25 c0 c2">&nbsp; color = 0.6*blue + 0.4*white)</span></h3><h3 class="c7 c48" id="h.mi89zgvsunk6"><span class="c25 c0 c2"></span></h3><h3 class="c7" id="h.uy9dags3y46p"><span class="c25 c0">Note for each parameter, its range should be specified using an interval such as </span><span class="c25 c0 c2">[0 .. 7]</span><span class="c25 c0">. &nbsp;In the above example, both</span><span class="c25 c0 c2">&nbsp;phi</span><span class="c25 c0">&nbsp;and</span><span class="c25 c0 c2">&nbsp;psi </span><span class="c25 c0">are ranging from 0 to 7. &nbsp;To control the smoothness of the surface, one can specify the </span><span class="c25 c0 c2">resolution </span><span class="c25 c0">parameter, the smaller the value the more smooth the surface object will be, but the rendering time will be longer.</span></h3><h3 class="" id="h.5x1x2xkldy4l"><span class="c0">Obj</span></h3><p class=""><span class="c0">Acumen supports loading 3D meshes saved as </span><span class="c0 c26"><a class="c17" href="https://www.google.com/url?q=http://en.wikipedia.org/wiki/Wavefront_.obj_file&amp;sa=D&amp;ust=1481470164434000&amp;usg=AFQjCNGcpmP-U67IgOAA89jKRzvHQGN8Pw">OBJ</a></span><span class="c0">&nbsp;files as follows:</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">_3D = (Obj</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; color = cyan &nbsp; &nbsp; &nbsp; &nbsp; // Blended with texture of OBJ file</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; content = &quot;Car.obj&quot;) // OBJ file name</span></p><h3 class="c15" id="h.k0g9ehqn6dtc"><span class="c0">Default Values Are Provided for All Parameters for all Shapes</span></h3><p class="c15"><span class="c0">To make things easier, a default value is provided for any missing parameters. &nbsp;Therefore, any of the following examples are acceptable ways to produce a sphere:</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">&nbsp;_3D = (Sphere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;// Type of _3D object</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;center = (0,0,0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; // Center point in (x,y,z) form</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;color = cyan &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; // Color</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rotation = (0,0,0)) &nbsp;// Orientation</span></p><p class="c10"><span class="c0 c2"></span></p><p class=""><span class="c0">or</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">&nbsp;_3D = (Sphere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; // Type of _3D object</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;center = (0,0,0) &nbsp; &nbsp; // Center point in (x,y,z) form</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rotation = (0,0,0) ) // Orientation</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">or</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0 c2">&nbsp;_3D = (Sphere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Type of _3D object</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;center = (0,0,0)) &nbsp; &nbsp;// Center point in (x,y,z) form</span></p><p class="c10"><span class="c0 c2"></span></p><p class=""><span class="c25 c0">or even</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">&nbsp;</span><span class="c0 c2">_3D = (Sphere) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Type of _3D object</span></p><h3 class="" id="h.mom7w5qgcd6d"><span class="c25 c0">Similarly, defaults are provided for all other types of 3D objects.</span></h3><h3 class="c15" id="h.5kq4wu7dhd1p"><span class="c0">Composites</span></h3><p class="c15"><span class="c0">All the display commands illustrated above can be combined by adding a comma separator and inserting multiple commands inside the outer parens. For example, the following command illustrates the effect of the rotation parameter:</span></p><p class="c6"><span class="c0"></span></p><p class=""><span class="c0 c2">&nbsp; </span><span class="c0 c2">_3D = </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; (Text center=(-2,0,0) size=1 color=(1,0,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(-pi/2,0,0) content=&quot;X&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(-2,0,0) size=1 color=(0,1,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(-pi/4,0,0) content=&quot;2&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(-2,0,0) size=1 color=(0,0,1) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0+t,0,0) content=&quot;3&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(0,0,0) size=1 color=(1,0,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,0,0) content=&quot;Y&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(0,0,0) size=1 color=(0,1,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,pi/4,0) content=&quot;2&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(0,0,0) size=1 color=(0,0,1) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,pi/2+t,0) content=&quot;3&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(2,0,0) size=1 color=(1,0,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,pi/2,0) content=&quot;Z&quot;,</span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(2,0,0) size=1 color=(0,1,0) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,pi/2,pi/4) content=&quot;2&quot;, </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp;Text center=(2,0,0) size=1 color=(0,0,1) </span></p><p class=""><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation=(0,pi/2,pi/2+t) content=&quot;3&quot;) </span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">This example</span><span class="c0">&nbsp;</span><span class="c0">shows how to combine multiple text objects, but the list can contain combinations of different object types.</span></p><h3 class="c15" id="h.8ph90x5qye0s"><span class="c0">Shapes, their Parameters, and</span><span class="c0">&nbsp;their Default Values</span></h3><p class="c15"><span class="c0">The following table lists the _3D shapes recognized by Acumen, together with supported parameters and the corresponding default values.</span></p><p class="c10"><span class="c0"></span></p><a id="t.002336404417ebe878ba022b578017828d05eb6e"></a><a id="t.0"></a><table class="c43"><tbody><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c13">Shape</span></p></td><td class="c41" colspan="1" rowspan="1"><p class="c23"><span class="c1">center</span></p></td><td class="c36" colspan="1" rowspan="1"><p class="c23"><span class="c1">rotation</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c23"><span class="c1">color</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c23"><span class="c1">coordinate</span></p></td><td class="c38" colspan="1" rowspan="1"><p class="c23"><span class="c1">transparency</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c23"><span class="c1">content</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Box</span></p></td><td class="c41" colspan="1" rowspan="7"><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12"><span class="c0 c2">(0,0,0)</span></p><p class="c12 c10"><span class="c16 c0"></span></p></td><td class="c36" colspan="1" rowspan="7"><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12"><span class="c0 c2">(0,0,0)</span></p><p class="c12 c10"><span class="c16 c0"></span></p></td><td class="c20" colspan="1" rowspan="7"><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12"><span class="c0 c2">(0,0,0)</span></p><p class="c12 c10"><span class="c16 c0"></span></p></td><td class="c5" colspan="1" rowspan="7"><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12 c10"><span class="c19 c0 c2"></span></p><p class="c12"><span class="c0 c2">&quot;global&quot;</span></p><p class="c12 c10"><span class="c16 c0"></span></p></td><td class="c38" colspan="1" rowspan="7"><p class="c12 c10"><span class="c16 c0"></span></p><p class="c12 c10"><span class="c16 c0"></span></p><p class="c12 c10"><span class="c16 c0"></span></p><p class="c12 c10"><span class="c16 c0"></span></p><p class="c12"><span class="c16 c0">0</span></p><p class="c12 c10"><span class="c16 c0"></span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">None</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Cone</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">None</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Cylinder</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">None</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Obj</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">&ldquo;&rdquo;</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Sphere</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">None</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Text</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">&ldquo;&rdquo;</span></p></td></tr><tr class="c47"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Trangle</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c16 c0">None</span></p></td></tr></tbody></table><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">To specify the size of a 3D object</span><span class="c0">, the following table lists the different default values supported for different shapes, </span></p><p class="c10"><span class="c0"></span></p><p class="c10"><span class="c0"></span></p><p class="c10"><span class="c0"></span></p><a id="t.8acd92e79f438b09790d93959aeb89540191e596"></a><a id="t.1"></a><table class="c43"><tbody><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c13">Shape</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c13">Size p</span><span class="c13">arameter and its default value</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Box</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=(0.4,0.4,0.4) </span><span class="c16 c0">or</span></p><p class="c23"><span class="c0 c2">length = 0.4 width = 0.4 height = 0.4</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Cone</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=(0.4,0.2) </span><span class="c0">or</span><span class="c19 c0 c2">&nbsp;</span></p><p class="c23"><span class="c0 c2">length = 0.4 radius = 0.2</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Cylinder</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=(0.4,0.2) </span><span class="c0">or</span><span class="c19 c0 c2">&nbsp;</span></p><p class="c23"><span class="c0 c2">length = 0.4 radius = 0.2</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Triangle</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c19 c0 c2">points = ((0,0,0),(1,0,0),(0,1,0)) &nbsp;height = 0.4</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Obj</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=</span><span class="c0">&nbsp;</span><span class="c0 c2">0.2</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Sphere</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=</span><span class="c0">&nbsp;</span><span class="c0 c2">0.2</span><span class="c16 c0">&nbsp;or </span></p><p class="c23"><span class="c0 c2">radius</span><span class="c0">&nbsp;</span><span class="c0 c2">=</span><span class="c0">&nbsp;</span><span class="c0 c2">0.2</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Text</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2">size</span><span class="c0">&nbsp;</span><span class="c0 c2">=</span><span class="c0">&nbsp;</span><span class="c0 c2">0.2</span></p></td></tr><tr class="c24"><td class="c3" colspan="1" rowspan="1"><p class="c23"><span class="c16 c0">Surface</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c23"><span class="c0 c2 c19">resolution = 0.2</span></p></td></tr></tbody></table><p class="c10"><span class="c0"></span></p><h3 class="c48 c15" id="h.1zzbpbv99vu6"><span class="c0"></span></h3><h3 class="c15" id="h.u4x799yc3efk"><span class="c0">Dynamic _3D Displays</span></h3><p class="c15"><span class="c0">In the examples above we simply assigned an initial value to the </span><span class="c0 c2">_3D</span><span class="c0">&nbsp;field in the </span><span class="c0 c2">initially</span><span class="c0">&nbsp;section in the current object. In fact, it is also possible to continuously assign a changing value to the </span><span class="c0 c2">_3D</span><span class="c0">&nbsp;parameter. When this is done, </span><span class="c0">the </span><span class="c0 c2">_3D</span><span class="c0">&nbsp;panel </span><span class="c0">animates the progression of this three- dimensional </span><span class="c0">scene, </span><span class="c0">as observed through the simulation time.</span></p><h3 class="c15 c50" id="h.ojazptyy2lkg"><span class="c0">Manual Control of the View of the _3D Scene</span></h3><p class="c15"><span class="c0">To rotate the view around the center of the current _3D view, click and hold the left mouse button and move the mouse. To change the center of the _3D view, click and hold the right mouse button (on Mac OS, tap touchpad with two fingers ) and move the mouse. The mouse wheel can be used to zoom the view in and out (on Mac OS, swipe up and down with two fingers ).</span></p><h3 class="" id="h.clgy2tbto7cq"><span class="c0">In-model Control of the View of the _3D Scene</span></h3><p class="c15"><span class="c0">The camera that defines the _3D view can also be manipulated directly in the model. This is done by adding the special variable </span><span class="c0 c2">_3DView</span><span class="c0">&nbsp;to the model. Note that, as with the </span><span class="c0 c2">_3D</span><span class="c0">&nbsp;variable, to use the </span><span class="c0 c2">_3DView</span><span class="c0">&nbsp;variable in the </span><span class="c0 c2">always</span><span class="c0">&nbsp;section, it is necessary to first declare it in the </span><span class="c0 c2">initially</span><span class="c0">&nbsp;section.</span><span class="c0">&nbsp;In the following model, the camera is situated at (10,10,10) and is rotated by 0.5 radians along each axis, so that it looks at the origin:</span></p><p class="c6"><span class="c0"></span></p><p class="c18"><span class="c0 c2">&nbsp; initially</span></p><p class="c18"><span class="c0 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_3D = (), _3DView = ()</span></p><p class="c18"><span class="c0 c2">&nbsp; always</span></p><p class="c18"><span class="c0 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_3D =&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Box &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;center=(0,0,0) size=(1,1,1)</span></p><p class="c18"><span class="c0 c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;color=red rotation=(0,0,0)),</span></p><p class="c18"><span class="c0 c2">&nbsp; &nbsp;_3DView = ((10,10,10), (0.5,0.5,0.5))</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">This configuration of the </span><span class="c0 c2">_3DView</span><span class="c0">&nbsp;variable will yield the following view of the _3D scene:</span></p><p class="c10"><span class="c0"></span></p><p class="c53"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 258.50px; height: 212.88px;"><img alt="" src="images/image04.png" style="width: 258.50px; height: 212.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10 c53"><span class="c0"></span></p><h3 class="c48" id="h.pmtbdpvj9qdk"><span class="c0"></span></h3><h3 class="" id="h.f9wt7b5b9zub"><span class="c0">Static object view</span></h3><p class=""><span class="c0">To make a object static without affecting by the position of camera or munal view rotation or zoom in/out, the user can set the parameter </span><span class="c0 c2">coordinates </span><span class="c0">to</span><span class="c0 c2">&nbsp;</span><span class="c0 c2">&quot;camera&quot;</span><span class="c0 c2">.</span><span class="c0">For example:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 282.50px; height: 187.00px;"><img alt="" src="images/image03.png" style="width: 282.50px; height: 187.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10"><span class="c0"></span></p><p class="c30 c18"><span class="c0 c2">&nbsp;_3D = &nbsp;</span></p><p class="c30 c18"><span class="c0 c2">&nbsp; &nbsp;(Text </span></p><p class="c30 c18"><span class="c0 c2">&nbsp; &nbsp; &nbsp;center=(-2.2,0,0) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c30 c18"><span class="c0 c2">&nbsp; &nbsp; &nbsp;color=(1,1,0) &nbsp; &nbsp; &nbsp; </span></p><p class="c30 c18"><span class="c0 c2">&nbsp; &nbsp; &nbsp;coordinates = &quot;camera&quot; </span></p><p class="c30 c18"><span class="c0 c2">&nbsp; &nbsp; &nbsp;content=&quot;Hello Acumen!&quot;)</span></p><p class="c30 c18 c10"><span class="c0 c2"></span></p><p class="c30 c10"><span class="c0"></span></p><p class="c30"><span class="c0">Would result in the following visualization. &nbsp;Note that although the view has been manually rotated, as indicated by the axises. &nbsp;The text is still facing the screen.</span><span class="c0 c2">&nbsp;</span></p><p class="c6"><span class="c0"></span></p><h2 class="c15" id="h.syhge2drtj15"><span class="c0">Built-in Functions </span></h2><p class="c15"><span class="c0">Acumen provides the following built-in functions:</span></p><p class="c6"><span class="c0"></span></p><ul class="c42 lst-kix_x3ennj6gfbyp-0 start"><li class="c27 c18 c15"><span class="c0">Unary operators </span><span class="c0">on Booleans and Integers: &nbsp;</span><span class="c0 c2">not, abs, -</span></li><li class="c27 c18 c15"><span class="c0">Binary operators on Integers: &nbsp;</span><span class="c0 c2">+, -, *, &lt;&lt;, &gt;&gt;, &amp;, |, %, xor</span></li><li class="c27 c18 c15"><span class="c0">Unary operators on Floats: &nbsp;</span><span class="c0 c2">sin, cos, tan, acos, asin, atan, toRadians, toDegrees, exp, log, log10, sqrt, cbrt, ceil, floor, rint, round, sinh, cosh, tanh, signum, abs, -</span></li><li class="c27 c18 c15"><span class="c0">Binary operators on </span><span class="c0">Floats:</span><span class="c0">&nbsp; </span><span class="c0 c2">+, -, *, ^, /, </span><span class="c0 c2">atan2</span></li><li class="c27 c18 c15"><span class="c0">Relational operators on Integers and Floats: &nbsp;</span><span class="c0 c2">&lt;, &gt;, &lt;=, &gt;=</span></li><li class="c27 c18 c15"><span class="c0">Binary operators on Vectors: &nbsp;</span><span class="c0 c2">.*, ./, .^, +, -, dot, cross</span></li><li class="c27 c18 c15"><span class="c0">Unary operators on Vectors: &nbsp;</span><span class="c0 c2">norm, length</span></li><li class="c27 c18 c15"><span class="c0">Binary operators taking a Scalar and a Vector: </span><span class="c0 c2">&nbsp;+, *</span></li><li class="c27 c18 c15"><span class="c0">Binary operators taking a Vector and a Scalar: &nbsp;</span><span class="c0 c2">+, *, /, .^</span></li></ul><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">In most cases, operators that start with a letter are prefix operators that take explicit arguments, such as the case with </span><span class="c0 c2">sin(x)</span><span class="c0">, while operators that start with a symbol are infix operators, such as </span><span class="c0 c2">x+y</span><span class="c0">. </span><span class="c0">The only exceptions to this rule are </span><span class="c0 c2">xor</span><span class="c0">,</span><span class="c0">&nbsp;which is an infix operator, and unary </span><span class="c0 c2">-</span><span class="c0">, which is a prefix operator that has no parentheses.</span></p><p class="c6"><span class="c0"></span></p><h2 class="c15" id="h.h0ol3f3gt01l"><span class="c0">Function Declarations</span></h2><p class=""><span class="c0">To use custom functions beyond the build-in ones, Acumen provides a top-level function structure. &nbsp;The structure of a typical function declaration is as follows:</span></p><p class="c10"><span class="c0"></span></p><p class="c11"><span class="c0">function</span><span class="c0 c57">&nbsp;</span><span class="c0">f(x,y) = x &nbsp;+ 2*y</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Inlining, which substitute the call to a function in the code with a copy of the function body using the actually input arguments, is performed for every function call before running the simulation. For example, the function call </span><span class="c0 c2">f(1,2)</span><span class="c0">is replaced with</span><span class="c0 c2">&nbsp;</span><span class="c0">the expression</span><span class="c0 c2">&nbsp;1 + 2 * 2</span><span class="c0">.</span></p><p class="c6"><span class="c0"></span></p><h2 class="c45 c15" id="h.vmx6fb9fbm2p"><span class="c0">Operator Precedence</span></h2><p class="c15"><span class="c0">The precedence ordering for built-in functions in Acumen is as follows:</span></p><ol class="c42 lst-kix_flppfiekybqy-0 start" start="1"><li class="c27 c18 c15"><span class="c0">Boolean disjunction</span><span class="c0">&nbsp;</span><span class="c0 c2">||</span></li><li class="c27 c18 c15"><span class="c0">Boolean conjunction </span><span class="c0 c2">&amp;&amp;</span></li><li class="c27 c18 c15"><span class="c0">Boolean equality </span><span class="c0 c2">==</span><span class="c0">&nbsp;and then Boolean inequality</span><span class="c0">&nbsp;</span><span class="c0 c2">~=</span></li><li class="c27 c18 c15"><span class="c0">Integer less than </span><span class="c0 c2">&lt;</span><span class="c0">, greater than </span><span class="c0 c2">&gt;</span><span class="c0">, less than or equal to </span><span class="c0 c2">&lt;=</span><span class="c0">, and then greater than or equal to </span><span class="c0 c2">&gt;=</span></li><li class="c27 c18 c15"><span class="c0">Vector generators </span><span class="c0 c2">:</span></li><li class="c27 c18 c15"><span class="c0">Numeric addition </span><span class="c0 c2">+,</span><span class="c0">&nbsp;subtraction </span><span class="c0 c2">-</span><span class="c0">, vector addition </span><span class="c0 c2">.+,</span><span class="c0">&nbsp;vector subtraction</span><span class="c0">&nbsp;</span><span class="c0 c2">.-</span></li><li class="c27 c18 c15"><span class="c0">Numeric multiplication </span><span class="c0 c2">*</span><span class="c0">, division</span><span class="c0">&nbsp;</span><span class="c0 c2">/</span><span class="c0">, vector multiplication </span><span class="c0 c2">.*</span><span class="c0">, vector division </span><span class="c0 c2">./</span><span class="c0">, and integer modulus </span><span class="c0 c2">%</span></li><li class="c27 c18 c15"><span class="c0">Numeric exponentiation</span><span class="c0">&nbsp;</span><span class="c0 c2">^</span><span class="c0">&nbsp;and then vector exponentiation </span><span class="c0 c2">.^</span></li><li class="c27 c18 c15"><span class="c0">Numeric unary negation</span><span class="c0">&nbsp;</span><span class="c0 c2">-</span></li><li class="c27 c18 c15"><span class="c0">Field access</span><span class="c0">&nbsp;</span><span class="c0 c2">.</span></li><li class="c27 c18 c15"><span class="c0">Built-in prefix function applications and vector lookup</span></li><li class="c27 c18 c15"><span class="c0">Field check ?</span></li></ol><h2 class="c45 c15" id="h.djxyz1fy1t85"><span class="c0">Intervals</span></h2><p class=""><span class="c0">The reference semantics supports the entry of intervals in models, and simulates using a </span><span class="c13">sampling</span><span class="c0">&nbsp;of values from these intervals. By default, only the limits of the interval are sampled. It is important to note that simulations produce runs representing simulation output on individual (sampled) values and not on all values within the interval. &nbsp;To illustrate the use of intervals, consider the following model and the plot produced by its simulation:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.10px; height: 155.50px;"><img alt="" src="images/image10.png" style="width: 149.10px; height: 155.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c13">model</span><span class="c0">&nbsp;Main(simulator) =</span></p><p class=""><span class="c13">initially</span></p><p class=""><span class="c0">&nbsp; x=0, x&#39;=0, x&#39;&#39;=0,</span></p><p class=""><span class="c0">&nbsp; a=1, b=1,</span></p><p class=""><span class="c0">&nbsp; _Plot=(x,x&#39;)</span></p><p class=""><span class="c13">always</span></p><p class=""><span class="c0">&nbsp; x&#39;&#39;= a*(1-x) - b*x&#39;</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">Intervals can be used in place of numerical values in the initially section. For example, we may wish to consider the effect of changing the parameter a on the dynamics of the system. This can be achieved by replacing the value 1 in the initialization a=1 with the interval value [0.5 .. 2]. &nbsp;The resulting model and output from this simulation are as follows:</span></p><p class=""><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.00px; height: 157.88px;"><img alt="" src="images/image00.png" style="width: 149.00px; height: 157.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class=""><span class="c13">model</span><span class="c0">&nbsp;Main(simulator) =</span></p><p class=""><span class="c13">initially</span></p><p class=""><span class="c0">&nbsp; x=0, x&#39;=0, x&#39;&#39;=0,</span></p><p class=""><span class="c0">&nbsp; a=[0.5 .. 2], b=1,</span></p><p class=""><span class="c0">&nbsp; _Plot=(x,x&#39;)</span></p><p class=""><span class="c13">always</span></p><p class=""><span class="c0">&nbsp; x&#39;&#39;= a*(1-x) - b*x&#39;</span></p><p class="c10"><span class="c0"></span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">When more frequent sampling is desired, this can be expressed by following the interval literal with a </span><span class="c0 c2">splitby</span><span class="c0">&nbsp;keyword. &nbsp;The following example illustrates the use of this construct:</span></p><p class="c10"><span class="c0"></span></p><p class=""><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.00px; height: 156.80px;"><img alt="" src="images/image08.png" style="width: 149.00px; height: 156.80px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class=""><span class="c13">model</span><span class="c0">&nbsp;Main(simulator) =</span></p><p class=""><span class="c13">initially</span></p><p class=""><span class="c0">&nbsp; </span><span class="c0">x=0, x&#39;=0, x&#39;&#39;=0,</span></p><p class=""><span class="c0">&nbsp; a=[0.5 .. 2] splitby 5, b=1,</span></p><p class=""><span class="c0">&nbsp; _Plot=(x,x&#39;)</span></p><p class=""><span class="c13">always</span></p><p class=""><span class="c0">&nbsp; </span><span class="c0">x&#39;&#39;= a*(1-x) - b*x&#39;</span></p><p class="c10"><span class="c0"></span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">Naturally, intervals can be used (and split) in multiple different initial values.</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c13">model</span><span class="c0">&nbsp;Main(simulator) =</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.00px; height: 156.51px;"><img alt="" src="images/image07.png" style="width: 149.00px; height: 156.51px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class=""><span class="c13">initially</span></p><p class=""><span class="c0">&nbsp; </span><span class="c0">x=0, x&#39;=0, x&#39;&#39;=0,</span></p><p class=""><span class="c0">&nbsp; a=[0.5 .. 2] splitby 5, </span></p><p class=""><span class="c0">&nbsp; b=[0.5 .. 2] splitby 5,</span></p><p class=""><span class="c0">&nbsp; _Plot=(x,x&#39;)</span></p><p class=""><span class="c13">always</span></p><p class=""><span class="c0">&nbsp; </span><span class="c0">x&#39;&#39;= a*(1-x) - b*x&#39;</span></p><p class="c10"><span class="c0"></span></p><h2 class="c15" id="h.7fwycditu9e9"><span class="c0">Distributions</span></h2><p class=""><span class="c0">Variables can now be assigned probability distributions in the </span><span class="c0 c2">initially</span><span class="c0">&nbsp;section. For example:</span></p><p class="c10"><span class="c0"></span></p><p class="c11"><span class="c13 c57">initially </span><span class="c0">x </span><span class="c55 c0">=</span><span class="c0 c55">&nbsp;</span><span class="c0">normald</span><span class="c0 c14">(</span><span class="c0 c52">0</span><span class="c0">,</span><span class="c0 c52">1</span><span class="c0 c14">) </span><span class="c0">central </span><span class="c0 c52">0.75 </span><span class="c0">splitby </span><span class="c0 c52">5</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">This statements creates split intervals representing the bounds of the central (that is, closes to the mean) five equi-probable intervals with a probability that adds up to 0.75 and that are drawn from a normal distribution with mean 0 and standard deviation of 1.</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">If we consider the example above and the associated plot, we can express a related simulation as follows:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 149.00px; height: 135.62px;"><img alt="" src="images/image05.png" style="width: 149.00px; height: 135.62px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c13">model</span><span class="c0">&nbsp;Main(simulator) =</span></p><p class=""><span class="c13">initially</span></p><p class=""><span class="c0">&nbsp; </span><span class="c0">x=0, x&#39;=0, x&#39;&#39;=0,</span></p><p class=""><span class="c0">&nbsp; a=normald(1,0.10) central 0.99 splitby 20, </span></p><p class=""><span class="c0">&nbsp; b=normald(1,0.10) central 0.99 splitby 20</span></p><p class=""><span class="c13">always</span></p><p class=""><span class="c0">x&#39;&#39;= a*(1-x) - b*x&#39;</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">The main characteristic to note here is that even when the standard deviation on the distribution is relatively small, when we try to cover 99% of possible trajectories we notice that a larger number of them can take a long time to stabilize, compared to when we consider a strictly bounded range for the possible values for the parameters.</span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">Other distributions that are available include the uniform and beta distributions:</span></p><p class="c10"><span class="c0"></span></p><p class="c11"><span class="c0 c2">uniformd</span><span class="c0 c2 c14">(</span><span class="c0 c2">lo,hi</span><span class="c0 c2 c14">)</span></p><p class="c10"><span class="c0"></span></p><p class="c11"><span class="c0 c2">betad</span><span class="c0 c2 c14">(</span><span class="c0 c2">lo,hi,alpha,beta</span><span class="c0 c2 c14">) </span></p><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">For a simulation that contains variables with probability distributions, clicking on the plot at a given time will produce a plot of the estimated probability.</span></p><h2 class="c15 c45" id="h.xzviue99opes"><span class="c0">Simulator Settings</span></h2><p class="c15"><span class="c0">The </span><span class="c0 c2">simulator</span><span class="c0">&nbsp;setting to the </span><span class="c0 c2">Main</span><span class="c0">&nbsp;model provides the user with a mechanism to codify how the model should be simulated, as part of the model itself. There are three settings that the user can specify:</span></p><p class="c6"><span class="c0"></span></p><ul class="c42 lst-kix_xw6cxw4rkdug-0 start"><li class="c27 c18 c15"><span class="c0">The time when the simulation should terminate is </span><span class="c0 c2">endTime</span><span class="c0">. </span><span class="c0">The default value for this setting is </span><span class="c0 c2">10</span><span class="c0">&nbsp;seconds.</span></li><li class="c27 c18 c15"><span class="c0">The numerical integration step size is </span><span class="c0 c2">timeStep</span><span class="c0">. The default value for this setting </span><span class="c0">is </span><span class="c0 c2">2</span><span class="c0 c2 c60">-6 </span><span class="c0 c2">= 0.015625</span><span class="c0">&nbsp;for all 2015 semantics. All older semantics use </span><span class="c0 c2">0.01</span><span class="c0">&nbsp;as the default value.</span></li></ul><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">It is </span><span class="c0">generally recommended</span><span class="c0">&nbsp;that any adjustments to these values are made using a discrete assignment at the very start </span><span class="c0">the </span><span class="c0">simulation time.</span></p><h2 class="c15" id="h.yc4qdk1198gv"><span class="c0">Command Line Parameters</span></h2><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">For batch processing, it is often useful to pass parameters to a simulation from the commandline. For this purpose, Acumen supports a simple mechanism for passing such information. It consists of two parts:</span></p><p class="c6"><span class="c0"></span></p><ul class="c42 lst-kix_gjtwtko0lwww-0 start"><li class="c27 c18 c15"><span class="c0">From the command line, the directive </span><span class="c0 c2">--parameters</span><span class="c0">&nbsp;can be used to specify the name and value of parameters (each name followed by its value), and</span></li><li class="c27 c18 c15"><span class="c0">In the model, the creating an object of type </span><span class="c0 c2">simulator.parameters ()</span><span class="c0">&nbsp;provides access to these variables.</span></li></ul><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">The follow example illustrates how the parameters can be passed from the command line, and how the can be used within the model.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">To start a simulation in offline mode from the command line with certain parameter values, write:</span></p><p class="c6"><span class="c0"></span></p><p class="c18 c15"><span class="c0 c2">java -jar acumen.jar --parameters abc 11</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">To use these values, the model itself can use the simulator.parameters type as follows:</span></p><p class="c6"><span class="c0 c32"></span></p><p class="c18"><span class="c13 c34">model</span><span class="c0 c34">&nbsp;</span><span class="c0">myModel </span><span class="c40 c0">(</span><span class="c0">a,b</span><span class="c40 c0">) </span><span class="c0 c32">=</span></p><p class="c18"><span class="c13 c34">initially</span><span class="c0 c34">&nbsp;</span><span class="c0">x</span><span class="c0 c32">=</span><span class="c0">a, x&#39;</span><span class="c0 c32">=</span><span class="c0">b, x&#39;&#39;</span><span class="c0 c32">=</span><span class="c21 c0">0</span></p><p class="c18"><span class="c13 c34">always</span><span class="c0 c34">&nbsp; </span><span class="c0">x&#39;&#39;</span><span class="c0 c32">=-</span><span class="c0">x</span></p><p class="c18 c10"><span class="c0"></span></p><p class="c18"><span class="c13 c34">model</span><span class="c0 c34">&nbsp;</span><span class="c0">Main </span><span class="c40 c0">(</span><span class="c0">simulator</span><span class="c40 c0">) </span><span class="c0 c32">=</span></p><p class="c18"><span class="c13 c34">initially</span></p><p class="c18"><span class="c33 c0">&nbsp;</span><span class="c0">p </span><span class="c0 c32">= </span><span class="c13 c34">create</span><span class="c0 c34">&nbsp;</span><span class="c0">simulator.parameters</span><span class="c40 c0">()</span><span class="c0">, </span><span class="c0 c33">//</span><span class="c33 c0">&nbsp;</span><span class="c33 c0">Get command line parameters and put in an object</span></p><p class="c18"><span class="c0">&nbsp;init_phase </span><span class="c0 c32">= </span><span class="c13 c34">true</span></p><p class="c18"><span class="c13 c34">always</span></p><p class="c18"><span class="c0 c34">&nbsp;</span><span class="c13 c34">if</span><span class="c0 c34">&nbsp;</span><span class="c0">init_phase </span></p><p class="c18"><span class="c0">&nbsp; </span><span class="c13 c34">then</span><span class="c0 c34">&nbsp;</span><span class="c13 c34">if</span><span class="c0 c34">&nbsp;(</span><span class="c0">p?a &amp;&amp; p?b</span><span class="c0 c34">) </span><span class="c33 c0">// Check to see if parameters were provided in the command line</span></p><p class="c18"><span class="c13 c34">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then create</span><span class="c0 c34">&nbsp;</span><span class="c0">myModel</span><span class="c0">&nbsp;</span><span class="c40 c0">(</span><span class="c0">p.a,p.b</span><span class="c40 c0">)</span><span class="c40 c0">&nbsp; &nbsp; </span><span class="c33 c0">// Use command line parameters a and b</span></p><p class="c18"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13 c34">else create</span><span class="c0 c34">&nbsp;</span><span class="c0">myModel</span><span class="c0">&nbsp;</span><span class="c40 c0">(</span><span class="c0">&nbsp; 17, 42</span><span class="c40 c0">)</span><span class="c40 c0">&nbsp;</span><span class="c0">, </span><span class="c33 c0">// Default values, useful for interactive mode</span></p><p class="c18"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;init_phase</span><span class="c0 c32">+ = </span><span class="c13 c34">false</span></p><p class="c18"><span class="c0 c34">&nbsp; </span><span class="c13 c34">noelse</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">It is good practice to use the ? test on parameters to make sure that they have been provided (as shown in the example above), and then to use default values in the case that they are not there. This ensures that models can be easily run in both command line and interactive modes.</span></p><h2 class="c15" id="h.bv0tslkk88e4"><span class="c0">Print to Standard Output (stdout) or </span><span class="c0">Console</span></h2><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">For batch processing and also for the interactive mode, Acumen provide support for printing. In batch mode, printing sends output to stdout. In interactive mode, it goes to the console.</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">To see how the print annotation works, consider the following model:</span></p><p class="c6"><span class="c0"></span></p><p class="c11 c15"><span class="c13 c34">model</span><span class="c0">&nbsp;Main</span><span class="c40 c0">&nbsp;(</span><span class="c0">simulator</span><span class="c40 c0">)</span><span class="c0 c32">&nbsp;=</span></p><p class="c11 c15"><span class="c13 c34">initially</span><span class="c0">&nbsp;</span></p><p class="c11 c15"><span class="c0">&nbsp; x </span><span class="c0 c32">=</span><span class="c21 c0">&nbsp;5</span></p><p class="c6"><span class="c0"></span></p><p class="c11 c15"><span class="c33 c0">// print out the value x-1 and x</span></p><p class="c11 c15"><span class="c13 c34">always</span></p><p class="c11 c15"><span class="c13 c34">&nbsp; if</span><span class="c0">&nbsp;x &gt; </span><span class="c21 c0">0</span><span class="c13 c34">&nbsp;then</span></p><p class="c11 c15"><span class="c0">&nbsp; &nbsp; x</span><span class="c0 c32">+ =</span><span class="c0">&nbsp;</span><span class="c13 c34">print</span><span class="c40 c0">(</span><span class="c0 c51">&quot;x-1=&quot;</span><span class="c0">, </span><span class="c13 c34">print</span><span class="c0 c40">(</span><span class="c0 c51">&quot;x=&quot;</span><span class="c0">,x</span><span class="c40 c0">)</span><span class="c0">-</span><span class="c21 c0">1</span><span class="c40 c0">)</span></p><p class="c11 c15"><span class="c0">&nbsp; </span><span class="c13 c34">noelse</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Running this model results in the value of x being repeatedly decremented by one until it reaches zero. If we wish to observe this process on the console (or stdout), then we would insert a print annotation around the value being assigned to x in the if statement. &nbsp;The annotated version is as follows:</span></p><p class="c6"><span class="c0"></span></p><p class="c11 c15"><span class="c13 c34">mode</span><span class="c13 c34">l</span><span class="c0">&nbsp;Main </span><span class="c40 c0">(</span><span class="c0">simulator</span><span class="c40 c0">) </span><span class="c0 c32">=</span></p><p class="c11 c15"><span class="c13 c34">initially</span><span class="c0">&nbsp;</span></p><p class="c11 c15"><span class="c0">&nbsp; x </span><span class="c0 c32">=</span><span class="c0">&nbsp;</span><span class="c0 c21">5</span></p><p class="c11 c15"><span class="c13 c34">always</span></p><p class="c11 c15"><span class="c13 c34">&nbsp; if</span><span class="c0">&nbsp;x&gt;</span><span class="c21 c0">0</span></p><p class="c11 c15"><span class="c0">&nbsp; &nbsp; </span><span class="c13 c34">then</span><span class="c0">&nbsp;x</span><span class="c0 c32">+ =</span><span class="c0">&nbsp;</span><span class="c13 c34">print</span><span class="c40 c0">(</span><span class="c0">x-</span><span class="c21 c0">1</span><span class="c40 c0">)</span></p><p class="c11 c15"><span class="c0">&nbsp; </span><span class="c13 c34">noelse</span></p><p class="c6"><span class="c0"></span></p><p class="c15"><span class="c0">Note that on the console the values are printed backwards (as are all messages).</span></p><h3 class="c48 c15" id="h.uns9knxrjw1"><span class="c0"></span></h3><h2 class="c45 c39 c15" id="h.b162bymtghdd"><span class="c0 c59">BNF of Acumen</span></h2><p class="c10"><span class="c0"></span></p><p class=""><span class="c0">The following context free grammar defines the current syntax of the Acumen language. &nbsp; The notations ?, * is used for optional and repetition, and text after \\ is for comment.</span></p><p class="c10"><span class="c0"></span></p><a id="t.4e93e54b5a60329456e6822d9039cfc0e8b78400"></a><a id="t.2"></a><table class="c43"><tbody><tr class="c65"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">digit </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c39 c53 c63"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">[0-9]</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">letter</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&nbsp;</span><span class="c16 c0">[A-Za-z]</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">symbol</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c7 c39"><span class="c16 c0">! | @ | &nbsp;# | $ | % | ^ | &amp; | ( | ) | - | + | =| &nbsp;| {| &nbsp;} | [ | &nbsp;] | &nbsp;: | ; <br> &ldquo;| &lsquo; | &lt; | &gt;| , | . | ? | / | * |</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">id_character </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">letter | &ldquo;_&rdquo; </span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">ident</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">&nbsp;id_character (int | id_character)*</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">int</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&ldquo;-&rdquo; ? digit</span><span class="c0">+</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">float</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">&ldquo;-&rdquo; ? digit+ &ldquo;.&rdquo; digit+ </span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">boolean</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">true | false</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">string </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">(symbol | id_character)*</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c31"><span class="c0">gvalue</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30 c62"><span class="c0">nlit </span><span class="c4 c0">| string | boolean | </span><span class="c0">&nbsp;</span><span class="c13">[ </span><span class="c0">nlit </span><span class="c13">.. </span><span class="c0">nlit </span><span class="c13">] </span><span class="c0">// interval </span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c31"><span class="c0">nlit : GroundValue </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30 c62"><span class="c0">&nbsp;int | float &nbsp;// number</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c31"><span class="c0">name</span><span class="c0">: Variable</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30 c62"><span class="c0">ident | </span><span class="c0">name</span><span class="c0">&rsquo;</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c4 c0">expr</span><span class="c4 c0">&nbsp;: </span><span class="c4 c0">Expressions</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c4 c0">&nbsp;| </span><span class="c0">gvalue | name</span><span class="c4 c0">&nbsp;</span><span class="c16 c0">&nbsp; &nbsp;</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">type (</span><span class="c0">className</span><span class="c13">) </span><span class="c16 c0">// type of</span></p><p class="c30"><span class="c0">&nbsp;| f(</span><span class="c4 c0">expr*</span><span class="c16 c0">) // function application</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c4 c0">expr</span><span class="c0">&nbsp;op </span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp; &nbsp; &nbsp; &nbsp;// binary operation</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c4 c0">expr</span><span class="c0">&rsquo;[</span><span class="c4 c0">expr</span><span class="c16 c0">] // partial derivative </span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c0">(</span><span class="c4 c0">expr</span><span class="c0">)&rsquo; | (</span><span class="c4 c0">expr</span><span class="c0">)&rsquo;&rsquo; &hellip; // time derivative</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">(</span><span class="c4 c0">expr*</span><span class="c13">) // </span><span class="c16 c0">expression vector</span></p><p class="c30"><span class="c0">&nbsp;</span><span class="c0">| name(</span><span class="c4 c0">expr</span><span class="c0">) &nbsp; &nbsp; // &nbsp;vector indexing</span><span class="c16 c0">&nbsp; </span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">(</span><span class="c4 c0">expr</span><span class="c1">)</span></p><p class="c30"><span class="c13">&nbsp;</span><span class="c0">| </span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp;. name // field access</span></p><p class="c30"><span class="c13">&nbsp;</span><span class="c0">| </span><span class="c4 c0">expr</span><span class="c0">&nbsp;? </span><span class="c0">name // field check</span><span class="c13">&nbsp;</span><span class="c16 c0">&nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">let &nbsp;</span><span class="c0">name</span><span class="c0">&nbsp;= </span><span class="c4 c0">expr *</span><span class="c0">&nbsp;</span><span class="c13">in</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp; // let notation</span></p><p class="c30"><span class="c0">&nbsp;</span><span class="c4 c0">|</span><span class="c0">&nbsp;</span><span class="c13">sum</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c13">in</span><span class="c0">&nbsp;name</span><span class="c13">&nbsp;= </span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c13">if</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp;// summation </span></p><p class="c30 c10"><span class="c16 c0"></span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c0">op: Operators </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">| + | - | * | / | % | &lt; | &gt; | &lt;= | &gt;= | &amp;&amp; | || |</span></p><p class="c30"><span class="c16 c0">| == | ~= | .* | ./ | // pointwise operator</span></p><p class="c30 c10"><span class="c56 c25 c4 c0"></span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c4 c0">action : </span><span class="c4 c0">Action</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&nbsp;| name+ </span><span class="c13">=</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp; &nbsp;// discrete assignment</span></p><p class="c30"><span class="c0">&nbsp;| name </span><span class="c13">=</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp; &nbsp;// continuous assignment</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">create</span><span class="c16 c0">&nbsp;className (name*)</span></p><p class="c30"><span class="c0">&nbsp;| name</span><span class="c13">:= create</span><span class="c0">&nbsp;className (name*)</span><span class="c1">&nbsp;</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">terminate</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp;// eliminate object</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">move</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp; &nbsp;// move object to new parent &nbsp; &nbsp; &nbsp;</span></p><p class="c30"><span class="c0">&nbsp;|</span><span class="c0">&nbsp;</span><span class="c13">if</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c13">then </span><span class="c4 c0">action</span><span class="c0">* &nbsp;</span><span class="c13">else</span><span class="c0">&nbsp;</span><span class="c0 c4">action</span><span class="c0">*</span><span class="c13">&nbsp;</span><span class="c0">// conditionals</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">foreach</span><span class="c0">&nbsp;name </span><span class="c13">in</span><span class="c0">&nbsp;</span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c13">do</span><span class="c0">&nbsp;</span><span class="c4 c0">action</span><span class="c16 c0">* &nbsp;// &nbsp;foreach</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">match </span><span class="c4 c0">expr</span><span class="c0">&nbsp;</span><span class="c13">with [</span><span class="c0">&nbsp;clause </span><span class="c13">| </span><span class="c0">clause ... </span><span class="c1">]</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">claim </span><span class="c4 c0">expr</span><span class="c0">&nbsp; // claim predicate </span><span class="c4 c0">expr</span><span class="c16 c0">&nbsp;is true</span></p><p class="c30"><span class="c0">&nbsp;| </span><span class="c13">hypothesis </span><span class="c4 c0">expr</span><span class="c0">&nbsp;| </span><span class="c13">hypothesis</span><span class="c0">&nbsp;string </span><span class="c56 c25 c4 c0">expr</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c0">clause: Clause</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&nbsp;gvalue </span><span class="c13">claim </span><span class="c4 c0">expr</span><span class="c0">&nbsp; </span><span class="c13">-&gt;</span><span class="c0">&nbsp;</span><span class="c4 c0">action</span><span class="c0">* | </span><span class="c13">case</span><span class="c0">&nbsp;gvalue </span><span class="c13">-&gt;</span><span class="c0">&nbsp;</span><span class="c4 c0">action</span><span class="c0">*</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">classDef : Class Definition</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&nbsp;</span><span class="c13">model </span><span class="c0">className (name*) inits </span><span class="c4 c0">action</span><span class="c16 c0">* </span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">inits: Initialization</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c13">initially </span><span class="c0">(name := </span><span class="c4 c0">expr</span><span class="c0">&nbsp;| create className (</span><span class="c4 c0">expr*</span><span class="c0">))* </span><span class="c13">always</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">program : Prog</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">classDef * </span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">include</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">&nbsp;#</span><span class="c13">include</span><span class="c16 c0">&nbsp;string</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">interpreter</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">&quot;reference2015&quot; | &quot;optimized2015&quot; | &quot;reference2014&quot; | &quot;optimized2014&quot; | &quot;reference2013&quot; | &quot;optimized2013&quot; | &quot;reference2012&quot; | &quot;optimized2012&quot; | &ldquo;enclosure2015&rdquo;</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">semantics</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c0">#</span><span class="c13">semantics </span><span class="c16 c0">interpreter</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">function</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">:=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c13">function </span><span class="c16 c0">ident (ident +) = expr</span></p></td></tr><tr class="c24"><td class="c9" colspan="1" rowspan="1"><p class="c35"><span class="c16 c0">fullProg </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">::=</span></p></td><td class="c29" colspan="1" rowspan="1"><p class="c30"><span class="c16 c0">&nbsp;semantics? Include? function? &nbsp;classDef*</span></p></td></tr></tbody></table><p class="c10"><span class="c0"></span></p><h2 class="c15" id="h.utbyqc43at3y"><span class="c0">Acknowledgements</span></h2><p class="c15"><span class="c0">This manual was prepared by Walid Taha. It was edited by Mark Stephens. Valuable input relating to the core language and its intricacies was provided by Kevin Atkinson, Adam Duracz, Veronica Gaspes, Viktor Vasilev, Fei Xu and Yingfu Zeng. Roland Philippsen and Jawad Masood suggested several suggestions from the point of view of actual users with expertise in analytical dynamics. &nbsp;Support for the development of Acumen and this manual was provided by the US National Science Foundation (NSF) Cyber-Physical Systems (CPS) project #1136099, by the Swedish Knowledge Foundation (KK), and by Halmstad University.</span></p><div><p class="c10"><span class="c28 c0"></span></p><a id="t.771101c2168ee36fe844a41098dfed63bf2e0164"></a><a id="t.3"></a><table class="c43"><tbody><tr class="c24"><td class="c46" colspan="1" rowspan="1"><p class="c23"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 83.00px; height: 29.00px;"><img alt="" src="images/image01.png" style="width: 83.00px; height: 29.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c54" colspan="1" rowspan="1"><p class="c30"><span class="c28 c0">Licensed under a </span><span class="c26 c28 c0"><a class="c17" href="https://www.google.com/url?q=http://creativecommons.org/licenses/by/3.0/deed.en_US&amp;sa=D&amp;ust=1481470164730000&amp;usg=AFQjCNHScVeXDFq2stAHWAKxJQZwlvqcEA">Creative Commons Attribution 3.0 Unported License</a></span><span class="c44 c28 c0">&nbsp; </span></p><p class="c30"><span class="c28 c0">Available online at </span><span class="c26 c28 c0"><a class="c17" href="https://www.google.com/url?q=http://bit.ly/Acumen-manual-2016&amp;sa=D&amp;ust=1481470164731000&amp;usg=AFQjCNGwZc5vIQ7V3vvaPEp9NCPH1j-lrA">http://bit.ly/Acumen-manual-2016</a></span></p></td></tr></tbody></table><p class="c10"><span class="c0"></span></p></div></body></html>